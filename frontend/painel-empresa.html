<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel da Empresa - AgendaAqui Vistorias</title>
  <meta name="description" content="Gerencie seus agendamentos, clientes e configuracoes">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="/src/styles/theme.css">
  <link rel="stylesheet" href="/src/styles/main.css">
  <link rel="stylesheet" href="/src/styles/painel-empresa.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="admin-body">
  <!-- Login Screen -->
  <div id="loginScreen" class="login-screen">
    <div class="login-box">
      <div class="login-logo" id="loginLogo">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--brand-primary);">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
      </div>
      <h1 style="text-align: center; margin-bottom: 8px; color: var(--brand-primary); font-size: 1.75rem;">Painel da Empresa</h1>
      <p style="text-align: center; margin-bottom: 30px; color: var(--text-secondary);">Gerencie seus agendamentos</p>

      <form id="loginForm">
        <div class="form-group">
          <label for="loginEmail">E-mail</label>
          <input type="email" id="loginEmail" required placeholder="seu@email.com">
        </div>
        <div class="form-group">
          <label for="loginPassword">Senha</label>
          <input type="password" id="loginPassword" required placeholder="Sua senha">
        </div>
        <div id="loginError" class="alert alert-error" style="display: none;"></div>
        <button type="submit" class="btn btn-primary btn-large" style="width: 100%;" id="btnLogin">
          <span id="btnLoginText">Entrar</span>
          <span id="btnLoginLoading" style="display: none;">Entrando...</span>
        </button>
      </form>
      <p style="text-align: center; margin-top: 1.5rem; color: var(--text-tertiary); font-size: 0.85rem;">
        Esqueceu a senha? Entre em contato com o suporte.
      </p>
    </div>
  </div>

  <!-- Main Dashboard -->
  <div id="mainDashboard" style="display: none;">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="logo">
          <img id="sidebarLogo" src="/favicon.svg" alt="Logo" style="height: 32px; display: none;">
          <h2 id="sidebarEmpresaNome" style="color: var(--brand-primary); font-size: 1.25rem; text-align: center; margin: 0;">Minha Empresa</h2>
        </div>
      </div>

      <nav class="sidebar-nav">
        <a href="#" class="nav-item active" data-section="dashboard">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          <span class="nav-text">Dashboard</span>
        </a>
        <a href="#" class="nav-item" data-section="agendamentos">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
          <span class="nav-text">Agendamentos</span>
          <span class="nav-badge" id="badge-agendamentos" style="display: none;">0</span>
        </a>
        <a href="#" class="nav-item" data-section="clientes">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          <span class="nav-text">Clientes</span>
        </a>
        <a href="#" class="nav-item" data-section="calendario">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
            <path d="M8 14h.01M12 14h.01M16 14h.01M8 18h.01M12 18h.01M16 18h.01"></path>
          </svg>
          <span class="nav-text">Calendario</span>
        </a>
        <a href="#" class="nav-item" data-section="relatorios">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="20" x2="12" y2="10"></line>
            <line x1="18" y1="20" x2="18" y2="4"></line>
            <line x1="6" y1="20" x2="6" y2="16"></line>
          </svg>
          <span class="nav-text">Relatorios</span>
        </a>
        <a href="#" class="nav-item" data-section="precos">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="1" x2="12" y2="23"></line>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
          </svg>
          <span class="nav-text">Precos</span>
        </a>
        <a href="#" class="nav-item" data-section="minha-empresa">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
          </svg>
          <span class="nav-text">Minha Empresa</span>
        </a>
        <a href="#" class="nav-item" data-section="configuracoes">
          <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6M12 17v6M4.22 4.22l4.24 4.24M15.54 15.54l4.24 4.24M1 12h6M17 12h6M4.22 19.78l4.24-4.24M15.54 8.46l4.24-4.24"></path>
          </svg>
          <span class="nav-text">Configuracoes</span>
        </a>
      </nav>

      <div class="sidebar-footer">
        <div class="user-info">
          <div class="user-avatar">
            <img id="userAvatarImg" src="" alt="Avatar" style="display: none; width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
            <svg id="userAvatarPlaceholder" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
          <div class="user-details">
            <div class="user-name" id="sidebarUserName">Usuario</div>
            <div class="user-role" id="sidebarUserRole">Administrador</div>
          </div>
        </div>
        <button class="btn-logout" id="logoutBtn">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
          <span>Sair</span>
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Header -->
      <header class="content-header">
        <div class="header-left">
          <button class="btn-menu-toggle" id="menuToggle">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
          <h1 id="pageTitle">Dashboard</h1>
        </div>
        <div class="header-right">
          <div class="header-search">
            <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.35-4.35"></path>
            </svg>
            <input type="text" placeholder="Buscar..." id="globalSearch">
          </div>
        </div>
      </header>

      <!-- Dashboard Section -->
      <section id="section-dashboard" class="content-section active">
        <!-- Stats Cards -->
        <div class="stats-grid" id="statsGrid">
          <div class="stat-card">
            <div class="stat-label">Agendamentos Hoje</div>
            <div class="stat-value" id="statToday">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Pendentes</div>
            <div class="stat-value" id="statPending">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Confirmados</div>
            <div class="stat-value" id="statConfirmed">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Faturamento Mensal</div>
            <div class="stat-value" id="statRevenue">-</div>
          </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-grid">
          <!-- Revenue Chart Card -->
          <div class="chart-card">
            <div class="chart-header">
              <div>
                <h3>Faturamento Mensal</h3>
                <div class="chart-subtitle">Ultimos 6 meses</div>
              </div>
            </div>
            <div class="chart-container" style="position: relative; height: 300px;">
              <canvas id="revenueChart"></canvas>
            </div>
          </div>

          <!-- Status Distribution Chart Card -->
          <div class="chart-card">
            <div class="chart-header">
              <div>
                <h3>Status dos Agendamentos</h3>
                <div class="chart-subtitle">Distribuicao atual</div>
              </div>
            </div>
            <div class="chart-container" style="position: relative; height: 300px;">
              <canvas id="statusChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Today's Appointments -->
        <div class="section-header" style="margin-top: 32px;">
          <h2>Agendamentos de Hoje</h2>
        </div>
        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Horario</th>
                <th>Cliente</th>
                <th>Telefone</th>
                <th>Veiculo</th>
                <th>Servico</th>
                <th>Valor</th>
                <th>Status</th>
                <th>Acoes</th>
              </tr>
            </thead>
            <tbody id="todayAppointmentsTable">
              <tr>
                <td colspan="8" style="text-align: center; padding: 40px;">
                  <div class="spinner"></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Agendamentos Section -->
      <section id="section-agendamentos" class="content-section">
        <div class="section-header">
          <h2>Gerenciar Agendamentos</h2>
        </div>

        <div class="filters-bar">
          <div class="form-row">
            <div class="form-group">
              <label for="filterDateStart">Data Inicio</label>
              <input type="date" id="filterDateStart">
            </div>
            <div class="form-group">
              <label for="filterDateEnd">Data Fim</label>
              <input type="date" id="filterDateEnd">
            </div>
            <div class="form-group">
              <label for="filterStatus">Status</label>
              <select id="filterStatus">
                <option value="">Todos</option>
                <option value="pendente">Pendente</option>
                <option value="confirmado">Confirmado</option>
                <option value="concluido">Concluido</option>
                <option value="cancelado">Cancelado</option>
              </select>
            </div>
            <div class="form-group">
              <label for="filterSearch">Buscar</label>
              <input type="text" id="filterSearch" placeholder="Nome, placa, telefone...">
            </div>
            <div class="form-group" style="display: flex; gap: 10px; align-items: flex-end;">
              <button class="btn btn-primary" id="filterBtn">Filtrar</button>
              <button class="btn btn-secondary" id="clearFilterBtn">Limpar</button>
            </div>
          </div>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Data</th>
                <th>Horario</th>
                <th>Cliente</th>
                <th>Telefone</th>
                <th>Placa</th>
                <th>Servico</th>
                <th>Valor</th>
                <th>Pagamento</th>
                <th>Status</th>
                <th>Acoes</th>
              </tr>
            </thead>
            <tbody id="agendamentosTable">
              <tr>
                <td colspan="11" style="text-align: center; padding: 40px;">
                  <div class="spinner"></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div id="paginationInfo" style="margin-top: 16px; color: var(--text-secondary);"></div>
      </section>

      <!-- Clientes Section -->
      <section id="section-clientes" class="content-section">
        <div class="section-header">
          <h2>Clientes</h2>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Nome</th>
                <th>Email</th>
                <th>Telefone</th>
                <th>Total Agendamentos</th>
                <th>Ultimo Agendamento</th>
                <th>Valor Total</th>
              </tr>
            </thead>
            <tbody id="clientesTable">
              <tr>
                <td colspan="6" style="text-align: center; padding: 40px;">
                  <div class="spinner"></div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- Calendario Section -->
      <section id="section-calendario" class="content-section">
        <div class="section-header">
          <h2>Calendario</h2>
          <div class="calendar-controls">
            <button class="btn btn-secondary" id="prevMonthBtn">
              <svg style="width: 16px; height: 16px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="15 18 9 12 15 6"></polyline>
              </svg>
              Anterior
            </button>
            <span class="current-month" id="currentMonthLabel">Janeiro 2025</span>
            <button class="btn btn-secondary" id="nextMonthBtn">
              Proximo
              <svg style="width: 16px; height: 16px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="9 18 15 12 9 6"></polyline>
              </svg>
            </button>
          </div>
        </div>

        <div class="calendar-container">
          <div class="calendar-grid" id="calendarGrid">
            <div class="calendar-day-header">Dom</div>
            <div class="calendar-day-header">Seg</div>
            <div class="calendar-day-header">Ter</div>
            <div class="calendar-day-header">Qua</div>
            <div class="calendar-day-header">Qui</div>
            <div class="calendar-day-header">Sex</div>
            <div class="calendar-day-header">Sab</div>
          </div>

          <div class="calendar-legend">
            <div class="legend-item">
              <div class="legend-color today"></div>
              <span>Hoje</span>
            </div>
            <div class="legend-item">
              <div class="legend-color pendente"></div>
              <span>Pendente</span>
            </div>
            <div class="legend-item">
              <div class="legend-color confirmado"></div>
              <span>Confirmado</span>
            </div>
            <div class="legend-item">
              <div class="legend-color concluido"></div>
              <span>Concluido</span>
            </div>
            <div class="legend-item">
              <div class="legend-color cancelado"></div>
              <span>Cancelado</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Relatorios Section -->
      <section id="section-relatorios" class="content-section">
        <div class="section-header">
          <h2>Relatorios</h2>
          <button class="btn btn-primary" id="exportReportPDF">
            <svg style="width: 16px; height: 16px; margin-right: 5px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Exportar PDF
          </button>
        </div>

        <!-- Period Selector -->
        <div class="filters-bar" style="margin-bottom: 30px;">
          <div class="form-row" style="align-items: flex-end;">
            <div class="form-group">
              <label for="reportStartDate">Data Inicial</label>
              <input type="date" id="reportStartDate">
            </div>
            <div class="form-group">
              <label for="reportEndDate">Data Final</label>
              <input type="date" id="reportEndDate">
            </div>
            <div class="form-group" style="display: flex; gap: 10px;">
              <button class="btn btn-primary" id="generateReportBtn">Gerar Relatorio</button>
              <button class="btn btn-secondary" id="setCurrentMonthBtn">Mes Atual</button>
              <button class="btn btn-secondary" id="setLastMonthBtn">Mes Anterior</button>
            </div>
          </div>
        </div>

        <!-- Report Stats -->
        <div class="stats-grid" id="reportStatsGrid" style="margin-bottom: 30px;">
          <div class="stat-card">
            <div class="stat-label">Total de Agendamentos</div>
            <div class="stat-value" id="reportTotalAppointments">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Receita Total</div>
            <div class="stat-value" id="reportTotalRevenue">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Novos Clientes</div>
            <div class="stat-value" id="reportNewClients">-</div>
          </div>
          <div class="stat-card">
            <div class="stat-label">Taxa de Confirmacao</div>
            <div class="stat-value" id="reportConfirmationRate">-</div>
          </div>
        </div>

        <!-- Report Charts -->
        <div class="charts-grid">
          <div class="chart-card">
            <div class="chart-header">
              <h3>Evolucao da Receita</h3>
              <div class="chart-subtitle">Receita diaria no periodo</div>
            </div>
            <div class="chart-container" style="height: 300px;">
              <canvas id="reportRevenueChart"></canvas>
            </div>
          </div>

          <div class="chart-card">
            <div class="chart-header">
              <h3>Distribuicao por Status</h3>
              <div class="chart-subtitle">Status dos agendamentos</div>
            </div>
            <div class="chart-container" style="height: 300px;">
              <canvas id="reportStatusChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Top Services -->
        <div class="chart-card" style="margin-top: 24px;">
          <div class="chart-header">
            <h3>Servicos Mais Solicitados</h3>
          </div>
          <div class="table-container" style="border: none; box-shadow: none;">
            <table class="admin-table">
              <thead>
                <tr>
                  <th>Posicao</th>
                  <th>Tipo de Servico</th>
                  <th>Quantidade</th>
                  <th>Receita Total</th>
                  <th>Ticket Medio</th>
                </tr>
              </thead>
              <tbody id="topServicesTable">
                <tr>
                  <td colspan="5" style="text-align: center; padding: 40px; color: var(--text-tertiary);">
                    Selecione um periodo e clique em "Gerar Relatorio"
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Minha Empresa Section -->
      <section id="section-minha-empresa" class="content-section">
        <div class="section-header">
          <h2>Minha Empresa</h2>
        </div>

        <div class="settings-grid">
          <!-- Dados Basicos -->
          <div class="settings-card" style="grid-column: span 2;">
            <h3>Dados da Empresa</h3>
            <div id="empresaDataContainer">
              <div class="loading" style="padding: 40px; text-align: center;">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Configuracoes Section -->
      <section id="section-configuracoes" class="content-section">
        <div class="section-header">
          <h2>Configuracoes</h2>
        </div>

        <div class="settings-grid">
          <!-- Alterar Senha -->
          <div class="settings-card">
            <h3>
              <svg style="width: 20px; height: 20px; margin-right: 8px; vertical-align: middle;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
              Alterar Senha
            </h3>
            <form id="formAlterarSenha">
              <div class="form-group">
                <label for="senhaAtual">Senha Atual</label>
                <input type="password" id="senhaAtual" required>
              </div>
              <div class="form-group">
                <label for="novaSenha">Nova Senha</label>
                <input type="password" id="novaSenha" required minlength="6">
              </div>
              <div class="form-group">
                <label for="confirmarSenha">Confirmar Nova Senha</label>
                <input type="password" id="confirmarSenha" required>
              </div>
              <button type="submit" class="btn btn-primary">Alterar Senha</button>
            </form>
          </div>

          <!-- Horarios de Funcionamento -->
          <div class="settings-card">
            <h3>
              <svg style="width: 20px; height: 20px; margin-right: 8px; vertical-align: middle;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
              </svg>
              Horarios de Funcionamento
            </h3>
            <div id="configHorariosContainer">
              <div class="loading" style="padding: 40px; text-align: center;">
                <div class="spinner"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Precos Section -->
      <section id="section-precos" class="content-section">
        <div class="section-header">
          <h2>Precos de Vistoria</h2>
          <button class="btn btn-primary" id="btnAdicionarPreco">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 16px; height: 16px; margin-right: 6px;">
              <line x1="12" y1="5" x2="12" y2="19"></line>
              <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
            Adicionar Categoria
          </button>
        </div>

        <p style="color: var(--text-secondary); margin-bottom: 24px;">
          Configure os valores das vistorias. Voce pode adicionar categorias personalizadas alem das padrao.
        </p>

        <div id="precosVistoriaContainer">
          <div class="loading" style="padding: 40px; text-align: center;">
            <div class="spinner"></div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Modal Adicionar/Editar Preco -->
  <div id="precoModal" class="modal">
    <div class="modal-content" style="max-width: 500px;">
      <span class="close" id="closePrecoModal">&times;</span>
      <h2 style="margin-bottom: 20px; color: var(--brand-primary);" id="precoModalTitle">Adicionar Categoria</h2>
      <form id="formPreco">
        <input type="hidden" id="precoId" value="">
        <input type="hidden" id="precoCategoria" value="">
        <div class="form-group">
          <label for="precoNome">Nome da Categoria *</label>
          <input type="text" id="precoNome" required placeholder="Ex: Motos ate 200cc">
        </div>
        <div class="form-group">
          <label for="precoDescricao">Descricao</label>
          <input type="text" id="precoDescricao" placeholder="Ex: Motocicletas com cilindrada ate 200cc">
        </div>
        <div class="form-group">
          <label for="precoValor">Valor (R$) *</label>
          <input type="number" id="precoValor" required min="0" step="0.01" placeholder="190.00">
        </div>
        <div class="form-group">
          <label for="precoOrdem">Ordem de Exibicao</label>
          <input type="number" id="precoOrdem" min="0" value="0" placeholder="0">
        </div>
        <div style="display: flex; gap: 12px; margin-top: 24px;">
          <button type="button" class="btn btn-secondary" id="btnCancelarPreco" style="flex: 1;">Cancelar</button>
          <button type="submit" class="btn btn-primary" style="flex: 1;">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Detalhes do Agendamento -->
  <div id="appointmentModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeAppointmentModal">&times;</span>
      <h2 style="margin-bottom: 20px; color: var(--brand-primary);">Detalhes do Agendamento</h2>
      <div id="appointmentDetails"></div>
    </div>
  </div>

  <!-- Modal Primeiro Acesso -->
  <div id="modalPrimeiroAcesso" class="modal">
    <div class="modal-content" style="max-width: 400px;">
      <h2 style="margin-bottom: 16px; color: var(--brand-primary);">Bem-vindo!</h2>
      <p style="margin-bottom: 24px; color: var(--text-secondary);">Por seguranca, altere sua senha temporaria.</p>
      <form id="formPrimeiroAcesso">
        <div class="form-group">
          <label for="novaSenhaPrimeiro">Nova Senha</label>
          <input type="password" id="novaSenhaPrimeiro" required minlength="6">
        </div>
        <div class="form-group">
          <label for="confirmarSenhaPrimeiro">Confirmar Senha</label>
          <input type="password" id="confirmarSenhaPrimeiro" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%;">Alterar e Continuar</button>
      </form>
    </div>
  </div>

  <script type="module" src="/src/painel-empresa.js"></script>
</body>
</html>
